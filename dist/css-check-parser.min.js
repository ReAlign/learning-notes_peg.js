"use strict";function peg$subclass(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}function peg$SyntaxError(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,peg$SyntaxError)}function peg$parse(r,t){t=void 0!==t?t:{};var e,n={},o={StartRule:q},a=q,u=Z(".",!1),c=Z("{",!1),i=Z("}",!1),s=function(r){return r.join("")},l=/^[a-zA-Z_\-]/,p=j([["a","z"],["A","Z"],"_","-"],!1,!1),f=/^[a-zA-Z0-9]/,h=j([["a","z"],["A","Z"],["0","9"]],!1,!1),g=L("whitespace"),x=/^[ \t]/,d=j([" ","\t"],!1,!1),A=L("whitespaces"),y=L("Linebreak"),v=/^[\r\n]/,E=j(["\r","\n"],!1,!1),m=L("Linebreaks"),C=L("空白字符合辑"),S=L(""),$=Z(":",!1),w=Z(";",!1),F=0,b=[{line:1,column:1}],R=0,k=[],z=0;if("startRule"in t){if(!(t.startRule in o))throw new Error("Can't start parsing from rule \""+t.startRule+'".');a=o[t.startRule]}function Z(r,t){return{type:"literal",text:r,ignoreCase:t}}function j(r,t,e){return{type:"class",parts:r,inverted:t,ignoreCase:e}}function L(r){return{type:"other",description:r}}function M(t){var e,n=b[t];if(n)return n;for(e=t-1;!b[e];)e--;for(n={line:(n=b[e]).line,column:n.column};e<t;)10===r.charCodeAt(e)?(n.line++,n.column=1):n.column++,e++;return b[t]=n,n}function T(r,t){var e=M(r),n=M(t);return{start:{offset:r,line:e.line,column:e.column},end:{offset:t,line:n.line,column:n.column}}}function _(r){F<R||(F>R&&(R=F,k=[]),k.push(r))}function U(r,t,e){return new peg$SyntaxError(peg$SyntaxError.buildMessage(r,t),r,t,e)}function q(){var t,e,o,a,s,l;return t=F,N()!==n?(46===r.charCodeAt(F)?(e=".",F++):(e=n,0===z&&_(u)),e!==n&&(o=B())!==n&&N()!==n?(123===r.charCodeAt(F)?(a="{",F++):(a=n,0===z&&_(c)),a!==n&&(s=function(){var t,e,o,a,u,c,i,s,l,p,f;z++,t=[],e=F,(o=N())!==n&&(a=B())!==n&&(u=J())!==n?(58===r.charCodeAt(F)?(c=":",F++):(c=n,0===z&&_($)),c!==n&&(i=J())!==n&&(s=D())!==n&&(l=J())!==n?(59===r.charCodeAt(F)?(p=";",F++):(p=n,0===z&&_(w)),p!==n&&(f=N())!==n?e=o=[o,a,u,c,i,s,l,p,f]:(F=e,e=n)):(F=e,e=n)):(F=e,e=n);if(e!==n)for(;e!==n;)t.push(e),e=F,(o=N())!==n&&(a=B())!==n&&(u=J())!==n?(58===r.charCodeAt(F)?(c=":",F++):(c=n,0===z&&_($)),c!==n&&(i=J())!==n&&(s=D())!==n&&(l=J())!==n?(59===r.charCodeAt(F)?(p=";",F++):(p=n,0===z&&_(w)),p!==n&&(f=N())!==n?e=o=[o,a,u,c,i,s,l,p,f]:(F=e,e=n)):(F=e,e=n)):(F=e,e=n);else t=n;z--,t===n&&(e=n,0===z&&_(S));return t}())!==n?(125===r.charCodeAt(F)?(l="}",F++):(l=n,0===z&&_(i)),l!==n&&N()!==n?(t,t=function(r,t){const e=[];return t.forEach(r=>{e.push({property:r[1],value:r[5]})}),{selector:r,items:e}}(o,s)):(F=t,t=n)):(F=t,t=n)):(F=t,t=n)):(F=t,t=n),t}function B(){var r,t,e;if(r=F,t=[],(e=G())!==n)for(;e!==n;)t.push(e),e=G();else t=n;return t!==n&&(r,t=s(t)),r=t}function D(){var r,t,e;if(r=F,t=[],(e=H())!==n)for(;e!==n;)t.push(e),e=H();else t=n;return t!==n&&(r,t=s(t)),r=t}function G(){var t;return l.test(r.charAt(F))?(t=r.charAt(F),F++):(t=n,0===z&&_(p)),t}function H(){var t;return f.test(r.charAt(F))?(t=r.charAt(F),F++):(t=n,0===z&&_(h)),t}function I(){var t;return z++,x.test(r.charAt(F))?(t=r.charAt(F),F++):(t=n,0===z&&_(d)),z--,t===n&&(n,0===z&&_(g)),t}function J(){var r,t;for(z++,r=[],t=I();t!==n;)r.push(t),t=I();return z--,r===n&&(t=n,0===z&&_(A)),r}function K(){var t;return z++,v.test(r.charAt(F))?(t=r.charAt(F),F++):(t=n,0===z&&_(E)),z--,t===n&&(n,0===z&&_(y)),t}function N(){var r,t,e;return z++,r=F,(t=function(){var r,t;for(z++,r=[],t=K();t!==n;)r.push(t),t=K();return z--,r===n&&(t=n,0===z&&_(m)),r}())!==n&&(e=J())!==n?r=t=[t,e]:(F=r,r=n),z--,r===n&&(t=n,0===z&&_(C)),r}if((e=a())!==n&&F===r.length)return e;throw e!==n&&F<r.length&&_({type:"end"}),U(k,R<r.length?r.charAt(R):null,R<r.length?T(R,R+1):T(R,R))}peg$subclass(peg$SyntaxError,Error),peg$SyntaxError.buildMessage=function(r,t){var e={literal:function(r){return'"'+o(r.text)+'"'},class:function(r){var t,e="";for(t=0;t<r.parts.length;t++)e+=r.parts[t]instanceof Array?a(r.parts[t][0])+"-"+a(r.parts[t][1]):a(r.parts[t]);return"["+(r.inverted?"^":"")+e+"]"},any:function(r){return"any character"},end:function(r){return"end of input"},other:function(r){return r.description}};function n(r){return r.charCodeAt(0).toString(16).toUpperCase()}function o(r){return r.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}function a(r){return r.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(r){return"\\x0"+n(r)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(r){return"\\x"+n(r)}))}return"Expected "+function(r){var t,n,o,a=new Array(r.length);for(t=0;t<r.length;t++)a[t]=(o=r[t],e[o.type](o));if(a.sort(),a.length>0){for(t=1,n=1;t<a.length;t++)a[t-1]!==a[t]&&(a[n]=a[t],n++);a.length=n}switch(a.length){case 1:return a[0];case 2:return a[0]+" or "+a[1];default:return a.slice(0,-1).join(", ")+", or "+a[a.length-1]}}(r)+" but "+function(r){return r?'"'+o(r)+'"':"end of input"}(t)+" found."},module.exports={SyntaxError:peg$SyntaxError,parse:peg$parse};